(this["webpackJsonpmemo-food"]=this["webpackJsonpmemo-food"]||[]).push([[0],{102:function(e,a,t){},110:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),r=t(16),o=t.n(r),c=(t(102),t(19)),s=t(147),d=t(170),l=t(87),u=t(163),m=t(153),b=t(166),g=t(55),p=t(25),j=t(169),h=t(12),f=t(167),v=t(67);var O=32,x=1,y=36,S=1.5,k=48,N=2;function C(e){return String(e).padStart(2,"0")}function E(e){return{minutes:C(Math.floor(e/60)),seconds:C(Math.floor(e%60))}}var w=Object(j.a)({id:"boardMaker",initial:"initial",context:{size:36,FOOD:["apple","candy","cheese","cupcake","doughnut","egg","fries","gingerbread","hamburger","honey","hotdog","icecream","milk","orange","peach","pizza","pudding","watermelon"],board:void 0,deck:[],error:""},states:{initial:{always:[{cond:"hasCorrectSize",target:"populatingDeck"},{target:"done",actions:"setSizeError"}]},populatingDeck:{always:{actions:"populateDeck",target:"shufflingDeck"}},shufflingDeck:{always:{actions:"shuffleDeck",target:"creatingBoard"}},creatingBoard:{always:{actions:"createBoard",target:"done"}},done:{type:"final",data:function(e){return{error:e.error,board:e.board}}}}},{actions:{setSizeError:Object(h.b)({error:function(e){return"'".concat(e.size,"' is not correct board size value.")}}),populateDeck:Object(h.b)({deck:function(e){return function(e,a){for(var t=[],n=0,i=0,r=0;r<a;r++)2===i&&(n+=1,i=0),t.push({id:r,label:e[n],isPicked:!1}),i+=1;return t}(e.FOOD,e.size)}}),shuffleDeck:Object(h.b)({deck:function(e){return a=e.deck,Object(v.a)(a).sort((function(){return Math.random()-.5}));var a}}),createBoard:Object(h.b)({board:function(e){return function(e,a){var t=Math.ceil(e.length/a);return Array(t).fill("").map((function(t,n){return e.slice(a*n,a*n+a)}))}(e.deck,Math.sqrt(e.size))}})},guards:{hasCorrectSize:function(e){var a=Math.sqrt(e.size);return Number.isInteger(a)}}}),P={matched:t.p+"static/media/matched.ece5333d.mp3",won:t.p+"static/media/won.b143fa0e.mp3",lost:t.p+"static/media/lost.df0fda29.mp3"};function I(e){return new Audio(P[e])}var z={playerName:"Default",sessionId:void 0,pickedCard:void 0,startedAt:void 0,points:0,board:[],stats:[],error:""},A=Object(j.a)({id:"game",type:"parallel",context:z,states:{audio:{initial:"enabled",states:{enabled:{on:{TOGGLE_AUDIO:"disabled"}},disabled:{on:{TOGGLE_AUDIO:"enabled"}}}},playground:{id:"playground",initial:"profile",states:{profile:{on:{CHANGE_PLAYER_NAME:{actions:["setPlayerName"]},START_GAME:[{cond:"hasPlayerName",target:"creatingBoard"}]}},creatingBoard:{invoke:{src:w,onDone:[{cond:"hasBoard",actions:"createBoard",target:"creatingSession"},{actions:"setBoardMakingError",target:"profile"}]}},creatingSession:{always:{actions:"createSessionId",target:"gameSession"}},gameSession:{id:"gameSession",initial:"memorizing",states:{memorizing:{on:{START_GAME:{actions:"setStartedAt",target:"playing"},SEE_PROFILE:"#playground.profile"}},playing:{initial:"idle",states:{idle:{always:{cond:"hasWon",target:"#gameSession.won"},on:{SELECT_CARD:[{cond:"isPickedCard",target:"idle"},{actions:["setPickedCard","markPickedCard"],target:"selectingPair"}]}},selectingPair:{after:Object(p.a)({},5e3,"#gameSession.lost"),on:{SELECT_CARD:[{cond:"isPickedCard",target:"selectingPair"},{cond:"hasMatchedCard",actions:["markPickedCard","playMatchedSound","increasePoints"],target:"idle"},{actions:"markPickedCard",target:"#gameSession.lost"}]}}}},won:{entry:["playWinnerSound","updateStats"],on:{SEE_PROFILE:{target:"#playground.profile",actions:"resetSession"}}},lost:{entry:["playLoserSound","updateStats"],on:{SEE_PROFILE:{target:"#playground.profile",actions:"resetSession"}}}}}}}}},{actions:{setPlayerName:Object(h.b)({playerName:function(e,a){return a.payload.value}}),setBoardMakingError:Object(h.b)({error:function(e,a){return"Error: ".concat(a.data.error)}}),createBoard:Object(h.b)({board:function(e,a){return a.data.board}}),createSessionId:Object(h.b)({sessionId:function(e){return Object(f.a)()}}),setStartedAt:Object(h.b)({startedAt:function(e){return Date.now()}}),setPickedCard:Object(h.b)({pickedCard:function(e,a){var t=a.payload;return{id:t.id,label:t.label}}}),markPickedCard:Object(h.b)({board:function(e,a){return e.board.map((function(e){return e.map((function(e){return e.id===a.payload.id?Object(g.a)(Object(g.a)({},e),{},{isPicked:!0}):e}))}))}}),increasePoints:Object(h.b)({points:function(e){return e.points+1}}),updateStats:Object(h.b)({stats:function(e){var a={name:e.playerName,time:Date.now()-e.startedAt,sessionId:e.sessionId,points:e.points};return function(e,a){return[].concat(Object(v.a)(e),[a]).sort((function(e,a){return e.points===a.points?e.time-a.time:a.points-e.points}))}(e.stats,a)}}),resetSession:Object(h.b)((function(e){return Object(g.a)(Object(g.a)({},z),{},{playerName:e.playerName,stats:e.stats})})),playMatchedSound:function(e,a,t){if(t.state.matches("audio.enabled")){var n=I("matched");null===n||void 0===n||n.play()}},playWinnerSound:function(e,a,t){if(t.state.matches("audio.enabled")){var n=I("won");null===n||void 0===n||n.play()}},playLoserSound:function(e,a,t){if(t.state.matches("audio.enabled")){var n=I("lost");null===n||void 0===n||n.play()}}},guards:{hasPlayerName:function(e){return e.playerName.length>0},hasBoard:function(e,a){return Boolean(a.data.board)},isPickedCard:function(e,a){var t=e.board.flat().find((function(e){return e.id===a.payload.id}));return Boolean(null===t||void 0===t?void 0:t.isPicked)},hasWon:function(e){return 18===e.points},hasMatchedCard:function(e,a){var t;return(null===(t=e.pickedCard)||void 0===t?void 0:t.label)===a.payload.label}}}),D=t(168),B=t(152),T=t(146),M=i.a.createContext(void 0);function F(){var e=i.a.useContext(M);return Object(T.a)(e)}var L=t(6),_=t(171),G={apple:t.p+"static/media/apple.9c3e3a73.svg",candy:t.p+"static/media/candy.50429e13.svg",cheese:t.p+"static/media/cheese.986768a9.svg",cupcake:t.p+"static/media/cupcake.a6951c2a.svg",doughnut:t.p+"static/media/doughnut.5561d4a9.svg",egg:t.p+"static/media/egg.2c7b4cdd.svg",fries:t.p+"static/media/fries.471be26b.svg",gingerbread:t.p+"static/media/gingerbread.7bb96fa1.svg",hamburger:t.p+"static/media/hamburger.c2eabc23.svg",honey:t.p+"static/media/honey.53b94fc3.svg",hotdog:t.p+"static/media/hotdog.504168a2.svg",icecream:t.p+"static/media/icecream.24cc8c4d.svg",milk:t.p+"static/media/milk.3c4cbc0f.svg",orange:t.p+"static/media/orange.614a5bdb.svg",peach:t.p+"static/media/peach.c0a49a08.svg",pizza:t.p+"static/media/pizza.9754f292.svg",pudding:t.p+"static/media/pudding.85208db3.svg",watermelon:t.p+"static/media/watermelon.8902e7dc.svg"};function R(e){var a=e.label,t=e.className;return i.a.createElement("img",{src:G[a],alt:a,className:t})}var W=t(4),H=Object(s.a)((function(e){var a;return Object(d.a)({root:{display:"flex",width:"100%",flexGrow:1},card:{background:"#90a1ff",display:"flex",flexGrow:1,margin:e.spacing(.25),padding:e.spacing(1),cursor:"pointer",transition:"opacity ease-in-out 0.4s",border:"1px solid #5a73ff",borderRadius:5,"&:hover":{opacity:.85}},inactiveCard:{cursor:"auto","&:hover":{opacity:1}},icon:(a={height:k,width:k},Object(p.a)(a,e.breakpoints.down("md"),{height:y,width:y}),Object(p.a)(a,e.breakpoints.down("sm"),{height:O,width:O}),a)})}));var Y=function(e){var a=e.row,t=e.rId,n=F(),i=Object(c.a)(n,2),r=i[0],o=i[1],s=H(),d=r.matches("playground.gameSession.memorizing"),l=d||r.matches("playground.gameSession.won")||r.matches("playground.gameSession.lost");return Object(W.jsx)("div",{className:s.root,children:a.map((function(e,a){var n=e.label,i=e.isPicked,r=e.id;return Object(W.jsx)("div",{className:Object(L.a)(s.card,Object(p.a)({},s.inactiveCard,i||l)),onClick:function(){o({type:"SELECT_CARD",payload:{label:n,id:r}})},children:d||i?Object(W.jsx)(_.a,{title:n,children:R({label:n,className:s.icon})}):Object(W.jsx)("span",{className:s.icon})},"".concat(t,"-").concat(a))}))})},q=Object(s.a)((function(e){var a;return Object(d.a)({root:(a={minHeight:324,minWidth:324,display:"flex",flexDirection:"column",padding:e.spacing(N)},Object(p.a)(a,e.breakpoints.down("md"),{padding:e.spacing(S)}),Object(p.a)(a,e.breakpoints.down("sm"),{padding:e.spacing(x)}),a)})}));var U=function(){var e,a=F(),t=Object(c.a)(a,1)[0],n=q(),i=null!==(e=null===t||void 0===t?void 0:t.context.board)&&void 0!==e?e:[];return Object(W.jsx)(W.Fragment,{children:(null===t||void 0===t?void 0:t.matches("playground.gameSession"))&&Object(W.jsx)("div",{children:Object(W.jsx)(D.a,{in:i.length>0,children:Object(W.jsx)(B.a,{className:n.root,elevation:2,children:i.map((function(e,a){return Object(W.jsx)(Y,{row:e,rId:a},"r-".concat(a+1))}))})})})})},J=t(154),V=t(164),K=Object(s.a)((function(e){return Object(d.a)({root:{marginBottom:e.spacing(1.5)}})}));var Q=function(){var e=F(),a=Object(c.a)(e,2),t=a[0],n=a[1],i=K();return Object(W.jsx)("form",{noValidate:!0,autoComplete:"off",className:i.root,children:Object(W.jsx)(V.a,{variant:"filled",value:null===t||void 0===t?void 0:t.context.playerName,onChange:function(e){return n({type:"CHANGE_PLAYER_NAME",payload:{value:e.target.value}})},label:"Your name",required:!0,error:0===(null===t||void 0===t?void 0:t.context.playerName.length)})})},X=Object(s.a)((function(e){return Object(d.a)({root:{display:"flex",flexDirection:"column",justifyContent:"center",padding:e.spacing(2)},title:{fontSize:20}})}));var Z=function(){var e=F(),a=Object(c.a)(e,2),t=a[0],n=a[1],i=X();return Object(W.jsx)(W.Fragment,{children:(null===t||void 0===t?void 0:t.matches("playground.profile"))&&Object(W.jsx)(D.a,{in:!0,timeout:500,children:Object(W.jsxs)(B.a,{className:i.root,elevation:2,children:[Object(W.jsx)(m.a,{className:i.title,gutterBottom:!0,children:"Player profile"}),Object(W.jsx)(Q,{}),Object(W.jsx)(J.a,{variant:"contained",color:"primary",onClick:function(){return n("START_GAME")},disabled:0===(null===t||void 0===t?void 0:t.context.playerName.length),children:"Start Game"})]})})})},$=t(161),ee=t(85),ae=t.n(ee),te=t(86),ne=t.n(te);function ie(){var e=i.a.useState(0),a=Object(c.a)(e,2),t=a[0],n=a[1];i.a.useEffect((function(){var e=setInterval((function(){n((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}),[]);var r=E(t),o=r.minutes,s=r.seconds;return Object(W.jsxs)(W.Fragment,{children:[o,":",s]})}var re=i.a.memo(ie),oe=t(82),ce=t.n(oe),se=t(83),de=t.n(se),le=Object(s.a)((function(e){return Object(d.a)({gameOutcomeWrapper:{display:"flex",alignItems:"center"},gameOutcomeTitle:{marginLeft:e.spacing(.5)}})}));var ue=function(){var e=F(),a=Object(c.a)(e,1)[0],t=le(),n=a.matches("playground.gameSession.won"),i=a.matches("playground.gameSession.lost");return Object(W.jsx)(W.Fragment,{children:(n||i)&&Object(W.jsx)(D.a,{in:!0,timeout:500,children:Object(W.jsxs)("div",{className:t.gameOutcomeWrapper,children:[n?Object(W.jsx)(ce.a,{}):Object(W.jsx)(de.a,{})," ",Object(W.jsxs)("div",{className:t.gameOutcomeTitle,children:["You ",n?"won":"lost"]})]})})})},me=t(165),be=t(84),ge=t.n(be),pe=t(156),je=t(160),he=t(159),fe=t(155),ve=t(157),Oe=t(158),xe=[{id:"name",label:"Name",minWidth:170},{id:"points",label:"Points",minWidth:100,align:"right"},{id:"time",label:"Time",minWidth:70,align:"right",format:function(e){var a=E(e/1e3),t=a.minutes,n=a.seconds;return"".concat(t,":").concat(n)}}],ye=Object(s.a)({root:{width:"100%"},container:{maxHeight:440}});var Se=function(){var e=F(),a=Object(c.a)(e,1)[0],t=ye(),n=null===a||void 0===a?void 0:a.context.stats;return Object(W.jsx)(B.a,{className:t.root,children:Object(W.jsx)(fe.a,{className:t.container,children:Object(W.jsxs)(pe.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small",children:[Object(W.jsx)(ve.a,{children:Object(W.jsx)(Oe.a,{children:xe.map((function(e){return Object(W.jsx)(he.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(W.jsx)(je.a,{children:n.map((function(e,t){return Object(W.jsx)(Oe.a,{hover:!0,role:"checkbox",tabIndex:-1,selected:n.length>1&&e.sessionId===(null===a||void 0===a?void 0:a.context.sessionId),children:xe.map((function(a){var t=e[a.id];return Object(W.jsx)(he.a,{align:a.align,children:a.format&&"number"===typeof t?a.format(t):t},a.id)}))},t)}))})]})})})},ke=Object(s.a)((function(e){return Object(d.a)({root:{alignSelf:"center"},typography:{padding:e.spacing(2)},paper:{padding:e.spacing(1)},title:{background:"#efefef",borderRadius:5,display:"flex",alignItems:"center",marginBottom:e.spacing(1)}})}));function Ne(){var e=ke(),a=i.a.useState(null),t=Object(c.a)(a,2),n=t[0],r=t[1],o=Boolean(n),s=o?"stats-popover":void 0;return Object(W.jsxs)("div",{children:[Object(W.jsx)(J.a,{variant:"contained",size:"small",color:"primary",onClick:function(e){r(e.currentTarget)},children:"Stats"}),Object(W.jsxs)(me.a,{id:s,open:o,anchorEl:n,onClose:function(){r(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{className:e.paper},children:[Object(W.jsxs)("div",{className:e.title,children:[Object(W.jsx)(ge.a,{}),Object(W.jsx)(m.a,{component:"h2",variant:"h6",children:"Stats"})]}),Object(W.jsx)(Se,{})]})]})}var Ce=Object(s.a)((function(e){return Object(d.a)({root:{display:"flex",justifyContent:"space-between",height:48},info:{display:"flex",alignItems:"center",marginLeft:e.spacing(1)},handlers:{display:"flex",alignItems:"center"},startButton:{margin:"0 ".concat(e.spacing(.5),"px")}})}));var Ee=function(){var e=F(),a=Object(c.a)(e,2),t=a[0],n=a[1],i=Ce(),r=null===t||void 0===t?void 0:t.matches("playground.gameSession.memorizing"),o=null===t||void 0===t?void 0:t.matches("playground.gameSession.playing"),s=(null===t||void 0===t?void 0:t.matches("playground.gameSession.won"))||(null===t||void 0===t?void 0:t.matches("playground.gameSession.lost"));return Object(W.jsx)(W.Fragment,{children:(null===t||void 0===t?void 0:t.matches("playground.gameSession"))&&Object(W.jsxs)("div",{className:i.root,children:[Object(W.jsxs)("div",{className:i.info,children:[r&&Object(W.jsx)(W.Fragment,{children:'If you are ready push "Start"'}),o&&Object(W.jsx)(re,{}),Object(W.jsx)(ue,{})]}),Object(W.jsxs)("div",{className:i.handlers,children:[s&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Ne,{}),Object(W.jsx)(J.a,{variant:"contained",size:"small",color:"primary",className:i.startButton,onClick:function(){return n("SEE_PROFILE")},children:"New game"})]}),r&&Object(W.jsx)(J.a,{variant:"contained",size:"small",color:"primary",className:i.startButton,onClick:function(){return n("START_GAME")},children:"Start"}),o&&Object(W.jsxs)($.a,{color:"secondary","aria-label":"add an alarm",onClick:function(){return n("TOGGLE_AUDIO")},children:[t.matches("audio.enabled")&&Object(W.jsx)(ae.a,{}),t.matches("audio.disabled")&&Object(W.jsx)(ne.a,{})]})]})]})})};var we=Object(s.a)((function(e){return Object(d.a)({root:{display:"flex",flexDirection:"column",alignItems:"center"},logo:{color:"#3f51b5",fontFamily:"'Carter One', cursive",marginTop:e.spacing(2),marginBottom:0},logoHighlight:{color:"#f50057"},content:{display:"flex",flexDirection:"column",margin:"".concat(e.spacing(2),"px 0")}})})),Pe=Object(l.a)({breakpoints:{values:{xs:0,sm:425,md:768,lg:1280,xl:1920}}});var Ie=function(){var e=Object(b.b)(A,{devTools:!0}),a=Object(c.a)(e,3)[2],t=we();return Object(W.jsx)(M.Provider,{value:a,children:Object(W.jsx)(u.a,{theme:Pe,children:Object(W.jsxs)("div",{className:t.root,children:[Object(W.jsxs)(m.a,{variant:"h3",component:"h1",className:t.logo,children:["Memo",Object(W.jsx)("span",{className:t.logoHighlight,children:"F"}),"ood"]}),Object(W.jsxs)("div",{className:t.content,children:[Object(W.jsx)(Z,{}),Object(W.jsx)(Ee,{}),Object(W.jsx)(U,{})]})]})})})},ze=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,172)).then((function(a){var t=a.getCLS,n=a.getFID,i=a.getFCP,r=a.getLCP,o=a.getTTFB;t(e),n(e),i(e),r(e),o(e)}))};o.a.render(Object(W.jsx)(i.a.StrictMode,{children:Object(W.jsx)(Ie,{})}),document.getElementById("root")),ze()}},[[110,1,2]]]);
//# sourceMappingURL=main.27304745.chunk.js.map